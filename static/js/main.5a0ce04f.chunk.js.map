{"version":3,"sources":["services/image-api.js","components/Modal/Modal.jsx","components/SearchBar/SearchBar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["imagesAPI","featchImages","searchQuery","currentPage","imageType","perPage","orientation","fetch","then","response","json","ModalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","className","onClick","src","currentLargeImage","alt","Component","SearchBar","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","type","onChange","autoComplete","autoFocus","placeholder","Button","buttonLabel","ImageGalleryItem","imagesArr","onClickImage","map","id","webformatURL","tags","largeImageURL","data","ImageGallery","App","searcheImages","showModal","isLoading","error","onChangeQuery","options","prevState","hits","catch","finally","onLoadMore","toggleModal","largeImg","attributes","textContent","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRendeLoadMoreButton","length","Loader","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5a0ce04f.chunk.js","sourcesContent":["const featchImages = ({\n  searchQuery = 'ukraine',\n  currentPage = 1,\n  imageType,\n  perPage = 12,\n  orientation,\n}) => {\n  return fetch(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=21266258-ed1f1a426d97c1dcb24ced78e&image_type=${imageType}&orientation=${orientation}&per_page=${perPage}`,\n  ).then(response => {\n    if (!response) {\n      throw response;\n    }\n    return response.json();\n  });\n};\n\nconst imagesAPI = { featchImages };\n\nexport default imagesAPI;\n\n//не працює\n// import axios from 'axios';\n// const MY_KEY = '21266258-ed1f1a426d97c1dcb24ced78e';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// const featchImages = ({\n//   searchQuery = 'ukraine',\n//   currentPage = 1,\n//   imageType,\n//   perPage = 12,\n//   orientation,\n// }) => {\n//   axios\n//     .get(\n//       `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${MY_KEY}&image_type=${imageType}&orientation=${orientation}&per_page=${perPage}`,\n//     )\n//     .then(response => response);\n// };\n\n// const imagesAPI = {\n//   featchImages,\n// };\n// export default imagesAPI;\n","import React, { Component } from 'react'\nimport {createPortal} from 'react-dom'\n//styles\nimport './Modal.scss'\n\nconst ModalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component   {\n    \n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    componentWillUnmount() {\n         window.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    handleKeyDown= e => {\n        if (e.code === \"Escape\") {\n            this.props.onClose()\n       }\n    }\n    \n    handleBackdropClick = (e) => {\n        if (e.target === e.currentTarget) {\n            this.props.onClose()\n       }\n    }\n\n    render() {\n        return createPortal(\n            <div className='Overlay' onClick={this.handleBackdropClick}>\n                <div className='Modal'>\n                    <img src={this.props.currentLargeImage} alt={this.props.searchQuery} /></div>\n            </div >\n            , ModalRoot)\n    }\n  \n}\n\nexport default Modal","import React, { Component } from 'react'\n//component\n// import Button from '../Button/Button'\n// import Input from '../Input/Input'\n//styles\nimport './SearchBar.scss'\n\nclass SearchBar extends Component{\n    state = {\n      query: '',\n}\n    handleChange = (e) => {\n    this.setState({query:e.currentTarget.value})\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.query)\n        this.setState({query:''})\n    }\n\n    render() {\n        return (\n     <header className=\"Searchbar\">\n  <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      value={this.state.query}\n      onChange={this.handleChange}                  \n      className=\"SearchForm-input\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n    />\n  </form>\n</header>\n        )\n    }\n}\nexport default SearchBar","import React from 'react'\n//styles\nimport './Button.scss'\n\nconst Button = ({ buttonLabel,onClick }) => {\n    return (\n          <button type='button' className=\"Button\" onClick={onClick}>\n            <span className=\"load-more-label\">{buttonLabel}</span>\n    </button>\n  )  \n}\nexport default Button\n\n","import React from 'react'\n//styles\nimport './ImageGalleryItem.scss'\n\nconst ImageGalleryItem = ({ imagesArr, onClickImage}) => {\n    return   (<>\n            {imagesArr.map(({id,webformatURL,tags,largeImageURL}) => (\n              <li key={id} className=\"ImageGalleryItem\" onClick={onClickImage}>\n                <img\n                  src={webformatURL}\n                  alt={tags}\n                  className=\"ImageGalleryItem-image\"\n                  data={largeImageURL}\n                />\n              </li>\n            ))}\n          </>)\n}\n\nexport default ImageGalleryItem","import React from 'react'\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\n//styles\nimport './ImageGallery.scss'\n\nconst ImageGallery = ({imagesArr ,onClickImage}) => {\n    return (\n        <ul className=\"ImageGallery\">\n            <ImageGalleryItem imagesArr={imagesArr} onClickImage={onClickImage} />\n</ul>\n    )\n}\nexport default ImageGallery","import React, { Component } from 'react';\n\n//component\nimport imagesAPI from './services/image-api';\nimport Modal from './components/Modal/Modal';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport Button from './components/Button/Button';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from 'react-loader-spinner';\n// style\nimport './App.scss';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    currentPage: 1,\n    perPage: 12,\n    imageType: 'photo',\n    orientation: 'horizontal',\n\n    searcheImages: [],\n    searchQuery: '',\n    currentLargeImage: null,\n\n    showModal: false,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.featchImages();\n    }\n    if (this.state.currentPage > 2 && this.state.isLoading) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  componentWillUnmount() {}\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      searcheImages: [],\n      error: null,\n    });\n  };\n\n  featchImages = () => {\n    const { currentPage, searchQuery, imageType, perPage, orientation } =\n      this.state;\n\n    const options = {\n      searchQuery,\n      currentPage,\n      imageType,\n      perPage,\n      orientation,\n    };\n\n    this.setState({ isLoading: true });\n\n    imagesAPI\n      .featchImages(options)\n      .then(response => {\n        this.setState(prevState => ({\n          searcheImages: [...prevState.searcheImages, ...response.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onLoadMore = () => {\n    this.featchImages();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickImage = e => {\n    const largeImg = e.target.attributes.data.textContent;\n\n    this.setState({ currentLargeImage: largeImg }, this.toggleModal());\n  };\n\n  render() {\n    const {\n      showModal,\n      searcheImages,\n      isLoading,\n      error,\n      currentLargeImage,\n      searchQuery,\n    } = this.state;\n    const shouldRendeLoadMoreButton = searcheImages.length > 0 && !isLoading;\n    return (\n      <>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {error && <h3 className=\"error\">Sorry error 😐 .Try again load.</h3>}\n        <ImageGallery\n          imagesArr={searcheImages}\n          onClickImage={this.onClickImage}\n        />\n\n        {isLoading && (\n          <Loader\n            className=\"loader\"\n            Loader\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n\n        {shouldRendeLoadMoreButton && (\n          <Button buttonLabel=\"Load more\" onClick={this.onLoadMore} />\n        )}\n\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            currentLargeImage={currentLargeImage}\n            searchQuery={searchQuery}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './styles/base.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}